@startuml
!include Style.puml

box addCreditCard()
participant ":Parser" as Parser PARSER_COLOUR
participant "AddCommand:Command" as AddCommand COMMANDS_COLOUR
participant ":GeneralFunctions" as GeneralFunctions HELPER_COLOUR
participant ":AddCommandInputTest" as AddCommandInputTest HELPER_COLOUR
participant ":CreditCard" as CreditCard USERFINANCIAL_COLOUR
participant ":CreditCardList" as CreditCardList DATA_COLOUR

end box
hide footbox
Parser -> AddCommand: AddCommand.executeCommand()
activate AddCommand COMMANDS_COLOUR

AddCommand -> AddCommand: addCreditCard()
activate AddCommand COMMANDS_COLOUR

AddCommand -> GeneralFunctions: parseInputWithCommandFlag()
activate GeneralFunctions HELPER_COLOUR
GeneralFunctions --> AddCommand: cardName, cashBack, cardLimit
deactivate GeneralFunctions

AddCommand -> AddCommand: testCreditCardParameters(cardName, cashBack, cardLimit)
activate AddCommand COMMANDS_COLOUR
AddCommand -> AddCommandInputTest: testsCardName(), testCashBack(), testCardLimit()
activate AddCommandInputTest HELPER_COLOUR

AddCommandInputTest --> AddCommand
deactivate AddCommandInputTest
AddCommand --> AddCommand
deactivate AddCommand COMMANDS_COLOUR

create CreditCard
AddCommand -> CreditCard: new CreditCard(cardName, cashBack, cardLimit)
activate CreditCard USERFINANCIAL_COLOUR
CreditCard --> AddCommand
deactivate CreditCard

AddCommand -> CreditCardList: creditCardList.add(new CreditCard)
activate CreditCardList DATA_COLOUR
CreditCardList --> AddCommand
deactivate CreditCardList

AddCommand -> AddCommand: print added credit card

AddCommand --> AddCommand:
deactivate AddCommand
AddCommand --> Parser:
deactivate AddCommand
@enduml
